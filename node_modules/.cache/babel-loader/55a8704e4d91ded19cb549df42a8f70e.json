{"remainingRequest":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\iview-loader\\index.js??ref--0-2!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\src\\pages\\account\\login\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\src\\pages\\account\\login\\index.vue","mtime":1630805802456},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628602912197},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\babel-loader\\lib\\index.js","mtime":1628602899323},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628602912197},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\vue-loader\\lib\\index.js","mtime":1628602913036},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\iview-loader\\index.js","mtime":1628602915515}],"contextDependencies":[],"result":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) { symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); } keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(Object(source), true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(Object(source)).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport iCopyright from '@/components/copyright';\nimport { mapActions } from 'vuex';\nimport mixins from '../mixins';\nimport util from '@/libs/util';\nimport { querySystemStatus, generatorList } from '@/api/account';\nexport default {\n  mixins: [mixins],\n  components: {\n    iCopyright: iCopyright\n  },\n  data: function data() {\n    return {\n      autoLogin: true\n    };\n  },\n  mounted: function mounted() {\n    /* querySystemStatus({}).then(res => {\n        console.log(res)\n    }) */\n    generatorList({\n      page: 1,\n      limit: 10,\n      order: 'order'\n    }).then(function (res) {\n      console.log(res);\n    });\n  },\n  methods: _objectSpread(_objectSpread({}, mapActions('admin/account', ['login'])), {}, {\n    /**\n     * @description 登录\n     * 表单校验已有 iView Pro 自动完成，如有需要修改，请阅读 iView Pro 文档\n     */\n    handleSubmit: function handleSubmit(valid, values) {\n      var self = this;\n\n      if (valid) {\n        var username = values.username,\n            password = values.password;\n        util.cookies.set('token', 'A68NUPaXVBJYRStwvd9frcUn8rlf30h6'); // console.log(this.$store.state.admin.user)\n\n        this.$store.dispatch('admin/user/set', {\n          name: 'Admin',\n          headPictureUrl: 'http://cdn.ywsj.cn/wx/userHeaderDefault.png',\n          access: ['admin']\n        });\n        self.$router.replace(self.$route.query.redirect || '/');\n        return;\n        util.ajax({\n          method: 'post',\n          url: 'common/service.execute.json',\n          data: {\n            _call: 'sys.memberService.login',\n            params: {\n              'loginType': 1,\n              'loginName': username,\n              'loginPwd': password\n            }\n          }\n        }).then(function (response) {\n          console.log(response);\n          util.cookies.set('uuid', response.output.memberId);\n          util.cookies.set('token', response.output.loginToken);\n          util.cookies.set('loginToken', response.output.loginToken);\n          util.cookies.set('companyCode', '1'); // Cookies.set('loginToken', response.data.output.loginToken);\n\n          response.output.moblieNumber = username;\n          /* this.$store.dispatch('admin/user/set', {\n              name: 'Aresn',\n              avatar: 'https://dev-file.iviewui.com/userinfoPDvn9gKWYihR24SpgC319vXY8qniCqj4/avatar',\n              access: ['admin']\n          }) */\n\n          self.$store.dispatch('admin/user/set', response.output);\n          self.$router.replace(self.$route.query.redirect || '/');\n        });\n      }\n    },\n    // 获取验证码\n    handleGetCaptcha: function handleGetCaptcha(value, values) {\n      var _this = this;\n\n      console.log(value, values);\n      console.log('11'); // if () {}\n\n      util.ajax({\n        data: {\n          _call: 'sys.memberService.sendValidCode',\n          params: {\n            mobileNbr: values.username\n          }\n        }\n      }).then(function (res) {\n        if (res.output.flag) {\n          _this.$Message.info('发送验证码成功');\n        } else {\n          _this.$Message.error(res.output.msg);\n        }\n      });\n    }\n  })\n};",null]}