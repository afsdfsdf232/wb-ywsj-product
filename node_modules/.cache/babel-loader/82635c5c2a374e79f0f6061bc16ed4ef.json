{"remainingRequest":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\babel-loader\\lib\\index.js!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\src\\libs\\date.js","dependencies":[{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\src\\libs\\date.js","mtime":1589175614000},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628602912197},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\babel-loader\\lib\\index.js","mtime":1628602899323},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\eslint-loader\\index.js","mtime":1607701091992}],"contextDependencies":[],"result":["/*\r\n * 时间处理方法\r\n * */\nvar date = {}; // 格式化日期兼容性调整\n\ndate.formatDate = function (date, fmt) {\n  if (!date) {\n    return '';\n  }\n\n  if (!+date) {\n    date = date.replace(/(\\d{4})-(\\d{1,2})-(\\d{1,2})/, '$1/$2/$3');\n    date = date.replace(/(.+)\\.0/, '$1');\n  }\n\n  return new Date(date).Format(fmt);\n};\n/*\r\n * 格式化时间把时间显示 (几分钟/小时/天前)\r\n * @param dateStr 目标时间\r\n * @param showM  是否显示月份\r\n * @param showY 是否显示年份\r\n * @param showBefore 是否返回 xx后\r\n * */\n\n\ndate.getDateDiff = function getDateDiff(dateStr, showM, showY) {\n  var showBefore = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : true;\n  var publishTime;\n\n  if (+dateStr) {\n    publishTime = new Date(dateStr).getTime() / 1000;\n  } else {\n    publishTime = new Date(this.formatDate(dateStr, 'yyyy/MM/dd hh:mm:ss')).getTime() / 1000;\n  }\n\n  var seconds,\n      minutes,\n      hours,\n      days,\n      month,\n      year,\n      timeNow = parseInt(new Date().getTime() / 1000),\n      d,\n      afterTime = false,\n      date = new Date(publishTime * 1000),\n      Y = date.getFullYear(),\n      M = date.getMonth() + 1,\n      D = date.getDate(),\n      H = date.getHours(),\n      m = date.getMinutes(); //小于10的在前面补0\n\n  M = M < 10 ? '0' + M : M;\n  D = D < 10 ? '0' + D : D;\n  H = H < 10 ? '0' + H : H;\n  m = m < 10 ? '0' + m : m;\n  d = timeNow - publishTime;\n\n  if (d <= 0 && showBefore) {\n    afterTime = true;\n    d = d * -1;\n  }\n\n  days = parseInt(d / 86400);\n  hours = parseInt(d / 3600);\n  minutes = parseInt(d / 60);\n  seconds = parseInt(d);\n  month = d / (24 * 60 * 60 * 30) >> 0;\n  year = d / (24 * 60 * 60 * 365) >> 0;\n\n  if (days === 1) {\n    return afterTime ? '明天' : '昨天';\n  } else if (days > 1 && days <= 3) {\n    return days + (afterTime ? '天后' : '天前');\n  } else if (days <= 0 && hours > 0) {\n    return hours + (afterTime ? '小时后' : '小时前');\n  } else if (hours <= 0 && minutes > 0) {\n    return minutes + (afterTime ? '分钟后' : '分钟前');\n  } else if (seconds < 60) {\n    if (seconds <= 0) {\n      return '刚刚';\n    } else {\n      return seconds + (afterTime ? '秒后' : '秒前');\n    }\n  } else if (days > 3) {\n    if (showY) {\n      if (year > 0) {\n        return year + '年' + (month % 12 === 0 ? '' : month % 12 + '月') + (afterTime ? '后' : '');\n      } else {\n        if (month > 0) {\n          return month + '月' + (afterTime ? '后' : '');\n        } else {\n          return days + '天' + (afterTime ? '后' : '');\n        }\n      }\n    } else if (showM) {\n      return month + '月' + (afterTime ? '后' : '');\n    } else {\n      return Y + '/' + M + '/' + D + ' ' + H + ':' + m;\n    }\n  }\n};\n/**\r\n * 格式化日期\r\n **/\n\n\nDate.prototype.Format = function (fmt) {\n  var o = {\n    'M+': this.getMonth() + 1,\n    //月份\n    'd+': this.getDate(),\n    //日\n    'h+': this.getHours(),\n    //小时\n    'm+': this.getMinutes(),\n    //分\n    's+': this.getSeconds(),\n    //秒\n    'q+': Math.floor((this.getMonth() + 3) / 3),\n    //季度\n    'S': this.getMilliseconds() //毫秒\n\n  };\n  if (/(y+)/.test(fmt)) fmt = fmt.replace(RegExp.$1, (this.getFullYear() + '').substr(4 - RegExp.$1.length));\n\n  for (var k in o) {\n    if (new RegExp('(' + k + ')').test(fmt)) fmt = fmt.replace(RegExp.$1, RegExp.$1.length == 1 ? o[k] : ('00' + o[k]).substr(('' + o[k]).length));\n  }\n\n  return fmt;\n};\n\nexport default date;",null]}