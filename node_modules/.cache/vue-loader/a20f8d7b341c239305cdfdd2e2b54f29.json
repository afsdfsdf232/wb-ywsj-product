{"remainingRequest":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\iview-loader\\index.js??ref--0-2!D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\src\\layouts\\basic-layout\\menu-head\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\src\\layouts\\basic-layout\\menu-head\\index.vue","mtime":1589174870000},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628602912197},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\babel-loader\\lib\\index.js","mtime":1628602899323},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1628602912197},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\vue-loader\\lib\\index.js","mtime":1628602913036},{"path":"D:\\project\\WB\\d2\\免费领前端任务包\\ywsj-product\\node_modules\\iview-loader\\index.js","mtime":1628602915515}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport iMenuHeadTitle from './title';\nimport { mapState, mapGetters } from 'vuex';\nimport { getStyle } from 'view-design/src/utils/assist';\nimport clickItem from '../mixins/click-item';\nimport { on, off } from 'view-design/src/utils/dom';\nimport { throttle } from 'lodash';\n\nexport default {\n    name: 'iMenuHead',\n    components: { iMenuHeadTitle },\n    mixins: [ clickItem ],\n    computed: {\n        ...mapState('admin/layout', [\n            'isMobile'\n        ]),\n        ...mapState('admin/menu', [\n            'headerName'\n        ]),\n        ...mapGetters('admin/menu', [\n            'filterHeader'\n        ])\n    },\n    data () {\n        return {\n            handleResize: () => {},\n            isMenuLimit: false,\n            menuMaxWidth: 0 // 达到这个值后，menu 就显示不下了\n        }\n    },\n    methods: {\n        handleGetMenuHeight () {\n            const menuWidth = parseInt(getStyle(this.$el, 'width'));\n            const $menu = this.$refs.menu;\n            if ($menu) {\n                const menuHeight = parseInt(getStyle(this.$refs.menu.$el, 'height'));\n                if (menuHeight > 64) {\n                    if (!this.isMenuLimit) {\n                        this.menuMaxWidth = menuWidth;\n                    }\n                    this.isMenuLimit = true;\n                }\n            } else if (menuWidth >= this.menuMaxWidth) {\n                this.isMenuLimit = false;\n            }\n        }\n    },\n    watch: {\n        filterHeader () {\n            this.handleGetMenuHeight();\n        },\n        isMobile () {\n            this.handleGetMenuHeight();\n        }\n    },\n    mounted () {\n        // this.handleResize = throttle(this.handleGetMenuHeight, 100, { leading: false });\n        // on(window, 'resize', this.handleResize);\n        this.handleGetMenuHeight();\n    },\n    beforeDestroy () {\n        // off(window, 'resize', this.handleResize);\n    }\n}\n",null]}